■ プロダクトビジョン
「ユーザー自身が未来を予言し、自腹で賭けた予言が、AI× オラクルによってフェアに評価されるシステム」を通して、従来の予測市場の待機時間や流動性問題を解決する。
ユーザー価値: 自分の予言に責任を持ちつつ、同テーマ内でリアルタイムな評価と NFT としての証明が得られる体験。

■ ユーザーストーリー（Epic）
予言投稿のユーザーストーリー

ユーザー: 一般ユーザー／未来予言家
目的: ウォレット接続後、予言（テキスト、日付、USDC、参照ドメイン）を投稿し、NFT（SBT）として記録する
受け入れ基準:
ウォレット接続が確実に行える
予言入力フォームからの情報送信後、NFT 発行（画面上またはブロックチェーン上で記録）が確認できる
予言決済・オラクル処理のユーザーストーリー

ユーザー: 予言を利確したいユーザー
目的: Redeem ページでガス代を支払い、モックされたオラクル（CNN/BBC/coincheck）データを参照し、同テーマ予言間の比較結果に基づく決済処理を実行する
受け入れ基準:
Redeem ページでオラクルシミュレーションが呼び出され、決済処理の結果が表示される
同テーマ予言同士の比較（モックでの類似検索）が実行される
■ 技術仕様（概要）
フロントエンド:
フレームワーク：React（または Next.js）
UI ライブラリ：Material-UI / Tailwind CSS（シンプルなデザイン重視）
ウォレット連携：WalletConnect（MetaMask 連携も可能）
バックエンド／ブロックチェーン
シンプルなスマートコントラクト（テストネット上で NFT（SBT）発行）
オラクルシミュレーション：ダミー関数で固定レスポンスを返却
（ベクトル化・類似予言検索）：モックデータを利用して、画面上にシンプルな 2D/3D マップ（固定サンプルデータ）を表示
外部 API:
ホワイトリストのオラクル情報は、固定値または簡易 API シミュレーションで実装
■ MVP（Minimum Viable Product）機能
予言ページ：
ウォレット接続
予言入力フォーム（タイトル、テキスト、ターゲット日付、USDC、参照ドメイン）
送信後の NFT（SBT）発行（画面表示またはブロックチェーントランザクション）
Redeem ページ：
オラクル呼び出しのシミュレーション（ダミーデータ）
同テーマ予言の類似検索（モック実装）
決済処理のシミュレーション（結果表示＆資金移動イメージ）
■ 追加機能（時間が余れば）
実際のベクトル計算・次元削減を用いた予言の動的マッピング
詳細なオラクル判定ロジック（NLP/NLI による評価）
マルチチェーン対応や実際のガス代計算
■ 開発のアジャイルプロセス
スプリントプラン:

スプリント 1 (前半 6 時間)：環境構築、基本 UI（予言ページ）の実装、ウォレット連携
スプリント 2 (次の 4 時間)：NFT 発行機能の実装、Redeem ページの初期構築
スプリント 3 (中盤 4 時間)：オラクル＆類似検索のモック実装、連携テスト
スプリント 4 (後半 6 時間)：統合テスト、バグフィックス、UI 調整、プレゼン資料作成
最終 1 時間：リハーサル、最終チェック、デプロイ
タスク管理:

GitHub Issue / Trello 等でタスクを可視化し、各タスクの優先順位と担当を明記
定期的（2 ～ 3 時間ごと）のチーム内短い進捗ミーティング（またはチャットで状況共有）
■ ハッカソン受賞戦略の準備
プレゼン資料:
プロダクトの社会的意義、ユニークな価値提案（「自分の予言に自腹で賭ける」点）を強調
デモ動画／ライブデモで、予言投稿 →NFT 発行 →Redeem での決済シミュレーションの流れを明確に
審査基準対応:
Execution: 完成度とスムーズなユーザー体験をアピール
Usefulness: 既存の予測市場の課題解決としてのメリットを説明
Learning: 新しいブロックチェーン連携技術や AI オラクルの挑戦を強調
Deployment: 実際に動くプロトタイプ（デモ環境）を提示

---

# Sequence Diagram

## Prophet Create

```
sequenceDiagram
    participant U as ユーザー
    participant FE as フロントエンド
    participant WC as ウォレット (MetaMask/WalletConnect)
    participant SC as スマートコントラクト
    participant BC as ブロックチェーン
    participant VDB as Vector DB

    U->>FE: ウォレット接続要求
    FE->>WC: 接続リクエスト送信
    WC-->>FE: 接続成功
    FE->>U: ウォレット接続完了表示

    U->>FE: 予言入力フォームに情報入力\n(タイトル、テキスト、ターゲット日付、USDC、参照ドメイン)
    FE->>SC: createProphet() 呼び出し（入力情報を引数に）
    SC->>BC: NFT（SBT）発行トランザクション開始
    BC-->>SC: トランザクション完了（確認）
    SC-->>FE: 発行済みNFT情報（tokenId, txハッシュ）返却

    FE->>FE: 予言テキストからベクトル計算 & ハッシュ生成
    FE->>VDB: ベクトル、ハッシュ、tokenId等を登録
    VDB-->>FE: 登録完了通知

    FE->>U: NFT発行完了＆記録完了表示
```

## Prophet Redeem

```sequenceDiagram
    participant U as ユーザー
    participant FE as フロントエンド（Redeemページ）
    participant OS as オラクルシミュレーター
    participant VDB as Vector DB
    participant SC as スマートコントラクト
    participant BC as ブロックチェーン

    U->>FE: 「Redeem」ボタン押下（利確開始）
    FE->>U: ガス代支払い確認のプロンプト表示
    U->>FE: ガス代支払い確認
    FE->>OS: オラクルシミュレーション呼び出し
    OS-->>FE: 固定レスポンス返却\n(例: CNN/BBC/coincheckデータ)

    FE->>VDB: 同テーマ予言の類似検索リクエスト\n(コサイン類似度計算＋ハッシュ検証)
    VDB-->>FE: 類似予言データ返却

    FE->>SC: redeemProphet() 呼び出し\n(オラクル＆類似検索結果を添付)
    SC->>BC: 決済トランザクション実行（資金移動シミュレーション）
    BC-->>SC: トランザクション確認
    SC-->>FE: 決済処理結果返却

    FE->>U: 決済結果＆更新情報を表示
```
